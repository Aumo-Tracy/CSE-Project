<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sales Entry - MWF Ltd</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="css/styles.css"/>
</head>
<body>

  <!-- Navbar (reused for consistency) -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
    <div class="container-fluid">
      <a class="navbar-brand" href="dashboard.html">MWF Ltd</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse justify-content-end" id="navbarContent">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="dashboard.html">Dashboard</a></li>
          <li class="nav-item"><a class="nav-link active" href="sales.html">Sales</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
              Sarah (Sales Agent)
            </a>
            <ul class="dropdown-menu dropdown-menu-end">
              <li><a class="dropdown-item" href="#">Profile</a></li>
              <li><a class="dropdown-item" href="index.html">Logout</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Page Title -->
  <div class="container mt-4">
    <h2 class="mb-4">üìù Record a New Sale</h2>

    <form id="salesForm">
      <div class="row">
        <!-- Customer Info -->
        <div class="col-md-6 mb-3">
          <label for="customerName" class="form-label">Customer Name</label>
          <input type="text" class="form-control" id="customerName" required>
        </div>

        <div class="col-md-6 mb-3">
          <label for="productType" class="form-label">Product Type</label>
          <select class="form-select" id="productType" required>
            <option value="">Choose...</option>
            <option>Wood</option>
            <option>Furniture</option>
          </select>
        </div>

        <div class="col-md-6 mb-3">
          <label for="productName" class="form-label">Product Name</label>
          <input type="text" class="form-control" id="productName" placeholder="e.g. Sofa, Timber" required>
        </div>

        <div class="col-md-3 mb-3">
          <label for="quantity" class="form-label">Quantity</label>
          <input type="number" class="form-control" id="quantity" min="1" value="1" required>
        </div>

        <div class="col-md-3 mb-3">
          <label for="unitPrice" class="form-label">Unit Price</label>
          <input type="number" class="form-control" id="unitPrice" placeholder="UGX" required>
        </div>

        <!-- Transport Option -->
        <div class="col-md-6 mb-3">
          <div class="form-check mt-4">
            <input class="form-check-input" type="checkbox" id="needsTransport">
            <label class="form-check-label" for="needsTransport">
              Add 5% transport fee
            </label>
          </div>
        </div>

        <!-- Payment Type -->
        <div class="col-md-6 mb-3">
          <label for="paymentType" class="form-label">Payment Type</label>
          <select class="form-select" id="paymentType" required>
            <option value="">Choose...</option>
            <option>Cash</option>
            <option>Cheque</option>
            <option>Bank Overdraft</option>
          </select>
        </div>

        <!-- Sales Agent -->
        <div class="col-md-6 mb-3">
          <label for="salesAgent" class="form-label">Sales Agent</label>
          <input type="text" class="form-control" id="salesAgent" value="Sarah" readonly>
        </div>

        <!-- Date -->
        <div class="col-md-6 mb-3">
          <label for="saleDate" class="form-label">Date of Sale</label>
          <input type="date" class="form-control" id="saleDate" required>
        </div>

        <!-- Total Display -->
        <div class="col-md-12 mb-3">
          <label class="form-label">Total Price</label>
          <div class="alert alert-info" id="totalDisplay">UGX 0</div>
        </div>

        <!-- Submit -->
        <div class="col-12 text-end">
          <button type="submit" class="btn btn-primary">Submit Sale</button>
        </div>
      </div>
    </form>
  </div>

  <!-- Footer -->
  <footer class="text-center py-3 mt-4 border-top">
    <small>¬© 2025 Mayondo Wood & Furniture Ltd. All rights reserved.</small>
  </footer>

  <script>
    const quantity = document.getElementById('quantity');
    const unitPrice = document.getElementById('unitPrice');
    const needsTransport = document.getElementById('needsTransport');
    const totalDisplay = document.getElementById('totalDisplay');

    function calculateTotal() {
      const qty = parseFloat(quantity.value) || 0;
      const price = parseFloat(unitPrice.value) || 0;
      let total = qty * price;
      if (needsTransport.checked) {
        total += total * 0.05; // Add 5%
      }
      totalDisplay.textContent = 'UGX ' + total.toLocaleString();
    }

    quantity.addEventListener('input', calculateTotal);
    unitPrice.addEventListener('input', calculateTotal);
    needsTransport.addEventListener('change', calculateTotal);
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>